<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Gateway</title>
    <link rel="stylesheet" href="payment-css.css"> <!-- Linking to your existing CSS -->
    <script src="payment.js"></script>
    <!-- Include html2pdf.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>

</head>

<body
    style="background: url(background.jpg); height: 100vh; background-size: cover; background-position: center; background-repeat: no-repeat; background-attachment: fixed ;">
              <!-- Preloader -->
  <div id="preloader">
    <div class="preloader-content">
      <div class="loader-logo">
        <img src="https://via.placeholder.com/150/FFD700/000000?text=FoodOrder" alt="Food Ordering Logo">
      </div>
      <div class="loader"></div>
    </div>
  </div>
    <div class="payment-container">
        <h1>Payment Gateway</h1>
        <div class="payment-details">
            <h2>Total Amount: <span id="total-amount">₹0.00</span></h2>
            <div class="qr-code">
                <img src="QRcode.png" alt="QR Code" id="qr-code-image"> <!-- Replace with actual QR code image -->
            </div>
        </div>
        <button class="btn back-to-order" onclick="goBackToOrder()">Back to Order</button>
        <button class="btn download-bill" onclick="downloadBill()">Download Bill</button>
        <button class="btn done" onclick="goBackTohome()">Done</button>
        <button class="btn share-bill" onclick="shareBill()">Share Bill</button>
    </div>
    

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script>
        // Function to get total amount from localStorage
        function displayTotalAmount() {
            const totalAmount = localStorage.getItem('totalAmount') || '₹0.00'; // Default value
            document.getElementById('total-amount').textContent = totalAmount;
        }

        // Function to go back to cart
        function goBackToOrder() {
            window.location.href = 'cart.html'; // Change to your cart page's filename if different
        }

        // Function to show toast notifications
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.className = 'toast show';
            setTimeout(() => {
                toast.className = toast.className.replace('show', '');
            }, 3000); // Toast visible for 3 seconds
        }

        // Display total amount on page load
        window.onload = displayTotalAmount;

        // Example: Show a toast when the page loads
        window.onload = function () {
            displayTotalAmount();
            showToast("Please scan the QR code to proceed with payment.");
        }
    </script>

<script>
    // Wait until the page is fully loaded before hiding the preloader
    window.addEventListener('load', function () {
      document.getElementById('preloader').style.display = 'none';  // Hide preloader
      document.getElementById('main-content').style.display = 'block';  // Show the main content
    });
  </script>
</body>

</html>